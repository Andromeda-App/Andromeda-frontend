(this.webpackJsonpandromedastargazer=this.webpackJsonpandromedastargazer||[]).push([[0],{14:function(e,t,n){},30:function(e,t,n){},49:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),o=n(24),s=n.n(o),i=(n(30),n(6)),r=n(3),l=(n(14),n(7)),d=n.n(l),j="http://localhost:3001",u={getProfile:function(e){return d.a.get("".concat(j,"/profile"),{headers:{Authorization:"Bearer ".concat(e)}})},login:function(e){return d.a.post("".concat(j,"/login"),e)},signup:function(e){return d.a.post("".concat(j,"/signup"),e)},getUserData:function(e){return d.a.get("".concat(j,"/api/users/").concat(e))},addUserPref:function(e,t){return d.a.post("".concat(j,"/api/users/preferences"),e,{headers:{Authorization:"Bearer ".concat(t)}})},getAPOD:function(e){}},b=(n(49),n(0));function h(e){return Object(b.jsxs)("form",{onSubmit:e.submit,className:"LoginForm",children:[Object(b.jsx)("input",{onChange:e.change,name:"email",value:e.loginState.email,placeholder:"email"}),Object(b.jsx)("input",{onChange:e.change,name:"password",value:e.loginState.password,type:"password"}),Object(b.jsx)("button",{children:"Submit"})]})}n(51);function m(e){return Object(b.jsxs)("form",{onSubmit:e.submit,className:"SignupForm",children:[Object(b.jsx)("input",{onChange:e.change,name:"userName",value:e.signupState.user_name,placeholder:"username"}),Object(b.jsx)("input",{onChange:e.change,name:"email",value:e.signupState.email,placeholder:"email"}),Object(b.jsx)("input",{onChange:e.change,name:"password",value:e.signupState.password,type:"password"}),Object(b.jsx)("input",{onChange:e.change,name:"zipcode",value:e.signupState.zipCode,placeholder:"zipcode"}),Object(b.jsx)("button",{children:"Signup"})]})}var O=function(){return Object(b.jsxs)("div",{className:"navbar",children:[Object(b.jsx)("div",{children:"Andromeda"}),Object(b.jsxs)("div",{className:"navlinks",children:[Object(b.jsx)("a",{href:"#",children:"Login"}),Object(b.jsx)("a",{href:"#",children:"Sign Up"})]})]})},g=n(8),p=n(2);n(52);var f=function(e){var t=Object(a.useState)([]),n=Object(r.a)(t,2),c=(n[0],n[1]);Object(a.useEffect)((function(){o()}),[]);var o=function(){u.getAllUsers().then((function(e){c(e.data)}))};return Object(b.jsxs)("div",{className:"about",children:[Object(b.jsx)("h1",{children:"About Andromeda"}),Object(b.jsx)("div",{children:"Welcome to Andromeda! Get alerts on space weather for optimal stargazing!"})]})},x=n(11);n(53);function v(e){var t=Object(a.useState)({meteor:!0,aurora:!0,eclipseL:!0,eclipseS:!0,moonPhase:!0}),n=Object(r.a)(t,2),c=n[0],o=n[1],s=Object(p.f)();Object(a.useEffect)((function(){e.token||s("/home")}),[e.token]);return Object(b.jsxs)("div",{className:"Preferences",children:[Object(b.jsx)("h1",{children:"Preferences"}),Object(b.jsxs)("form",{onSubmit:function(t){t.preventDefault(),u.addUserPref(c,e.token).then((function(e){console.log(e.data),s("/home")}))},children:[Object(b.jsx)("input",{onChange:function(e){var t=e.target,n=t.name,a=t.value;o(Object(i.a)(Object(i.a)({},c),{},Object(x.a)({},n,a)))},value:c.meteor,name:"meteor",placeholder:"meteor"}),Object(b.jsx)("button",{children:"Meteor Shower?"})]})]})}n(54);var S=function(e){var t=Object(a.useState)({email:"",id:""}),n=Object(r.a)(t,2),c=n[0],o=n[1],s=Object(p.g)().id;Object(a.useEffect)((function(){i()}),[s]);var i=function(){u.getUserData(s).then((function(e){e.data&&o(e.data)}))},l=Object(a.useState)({moonrise:"",peak:"",moonset:"",phase:""}),d=Object(r.a)(l,2);return d[0],d[1],Object(b.jsx)("div",{children:Object(b.jsxs)("div",{children:[Object(b.jsxs)("h1",{children:["Get ready for some top-tier stargazing, ",c.name,"!"]}),Object(b.jsxs)("div",{class:"eventCard",children:[Object(b.jsx)("h2",{children:"Upcoming Meteor Showers:"}),Object(b.jsx)("div",{class:"cardImage",id:"meteorImage"}),Object(b.jsxs)("div",{class:"cardContent",id:"meteorCard",children:[Object(b.jsx)("h3",{id:"meteorTitle",children:"Geminid Mete"}),Object(b.jsx)("p",{id:"meteorText"})]})]}),Object(b.jsxs)("div",{class:"eventCard",children:[Object(b.jsx)("h2",{children:"Aurora Forecast"}),Object(b.jsx)("img",{src:"./moon.jpg"}),Object(b.jsx)("div",{id:"AuroraCard",children:"Information Goes Here!"})]}),Object(b.jsxs)("div",{class:"eventCard",children:[Object(b.jsx)("h2",{children:"Lunar Events"}),Object(b.jsx)("img",{src:"",alt:"moon phase",id:"moonPhase"}),Object(b.jsxs)("div",{id:"moonCard",children:["Moonrise:",Object(b.jsx)("span",{id:"moonrise"}),"Moonset:",Object(b.jsx)("span",{id:"moonset"})]})]}),Object(b.jsxs)("div",{class:"eventCard",children:[Object(b.jsx)("h2",{children:"Eclipse Alert"}),Object(b.jsx)("div",{id:"eclipseCard",children:"The next lunar eclipse at this location"})]}),Object(b.jsxs)("div",{class:"eventCard",children:[Object(b.jsx)("h2",{children:"ISS Flyover"}),Object(b.jsx)("div",{id:"issCard",children:"Information Goes Here!"})]})]})})},k="https://api.nasa.gov/DONKI/CME?startDate=yyyy-MM-dd&endDate=yyyy-MM-dd&api_key=m6Wr9MihDDvs5EkySGkFdMXckAHmh3vUi40nganr";d.a.interceptors.request.use((function(e){return e.params=e.params?e.params:{},e.url.includes(k)&&(e.params.api_key="m6Wr9MihDDvs5EkySGkFdMXckAHmh3vUi40nganr"),e}),(function(e){return Promise.reject(e)}));var C=function(){return console.log(d.a.get("".concat(k))),d.a.get("".concat(k))};n(15),n(25),Object({NODE_ENV:"production",PUBLIC_URL:"/Andromeda-App/andromedaS",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_NASA_KEY;var A=function(){var e=Object(a.useState)({email:"",id:0}),t=Object(r.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),s=Object(r.a)(o,2),l=s[0],d=s[1],j=Object(a.useState)({email:"",password:""}),x=Object(r.a)(j,2),k=x[0],A=x[1],y=Object(a.useState)({email:"",password:""}),w=Object(r.a)(y,2),E=w[0],D=w[1];Object(a.useEffect)((function(){var e=localStorage.getItem("token");console.log("Token:"+e),e&&u.getProfile(e).then((function(t){console.log("worked"),d(e),c({email:t.data.email,id:t.data.id})})).catch((function(e){console.log("failed"),console.log(e),localStorage.removeItem("token")}))}),[]);var P=Object(a.useState)(),T=Object(r.a)(P,2),_=T[0],M=T[1];return Object(a.useEffect)((function(){C().then((function(e){console.log(e.data),null===e.data[33].cmeAnalyses[0].enlilList[0].estimatedShockArrivalTime?M("No upcoming event"):M(e.data[33].cmeAnalyses[0].enlilList[0].estimatedShockArrivalTime)}))}),[]),Object(b.jsxs)(g.a,{children:[n.email?Object(b.jsxs)("div",{children:[Object(b.jsxs)("h1",{children:["Ready to go stargazing, ",n.user_name,"?"]}),Object(b.jsx)("button",{onClick:function(){c({email:"",id:0}),d(""),localStorage.removeItem("token")},children:"Logout"}),Object(b.jsx)(g.b,{to:"/",children:"Home"}),Object(b.jsx)(g.b,{to:"/profile/".concat(n.id),children:"Profile"}),Object(b.jsx)("div",{style:{maxWidth:900,padding:30},children:_&&Object(b.jsxs)("article",{children:[Object(b.jsx)("header",{children:_}),Object(b.jsxs)("pre",{style:{overflowX:"auto",whiteSpace:"pre-wrap",wordWrap:"break-word"},children:[Object(b.jsx)("hr",{}),JSON.stringify(_,null,2)]})]})})]}):Object(b.jsxs)("div",{children:[Object(b.jsx)(h,{submit:function(e){e.preventDefault(),u.login(k).then((function(e){console.log(e.data),c({email:e.data.user.email,id:e.data.user.id}),d(e.data.token),localStorage.setItem("token",e.data.token)})).catch((function(e){console.log(e)}))},change:function(e){"email"===e.target.name?A(Object(i.a)(Object(i.a)({},k),{},{email:e.target.value})):A(Object(i.a)(Object(i.a)({},k),{},{password:e.target.value}))},loginState:k}),Object(b.jsx)(m,{submit:function(e){e.preventDefault(),u.signup(E).then((function(e){u.login(E).then((function(e){console.log(e.data),c({email:e.data.user.email,id:e.data.user.id}),d(e.data.token),localStorage.setItem("token",e.data.token)})).catch((function(e){console.log(e)}))}))},change:function(e){"email"===e.target.name?D(Object(i.a)(Object(i.a)({},E),{},{email:e.target.value})):D(Object(i.a)(Object(i.a)({},E),{},{password:e.target.value}))},signupState:E})]}),Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(O,{}),Object(b.jsxs)(p.c,{children:[Object(b.jsx)(p.a,{exact:!0,path:"/",element:Object(b.jsx)(f,{}),user:n,token:l}),Object(b.jsx)(p.a,{exact:!0,path:"/preferences",element:Object(b.jsx)(v,{}),user:n,token:l}),Object(b.jsx)(p.a,{exact:!0,path:"/profile",element:Object(b.jsx)(S,{}),user:n,token:l})]})]})]})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,57)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,o=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),o(e),s(e)}))};s.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(A,{})}),document.getElementById("root")),y()}},[[56,1,2]]]);
//# sourceMappingURL=main.deef4b37.chunk.js.map